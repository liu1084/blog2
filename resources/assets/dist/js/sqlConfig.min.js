/* All right reserved by Neusoft Co. Ltd. 2016-10-14 10:10:15 */
!function(a){a.testcase={initDBResources:function(a){var b={};b.url=appPath+"/utf/testcase/sqlConfig/sqlConfigGrid/initDBInfo.action",b.sync=!1,b.load=a,$.maf.action.requestData(b)},initSqlResources:function(a){var b={};b.url=appPath+"/utf/testcase/sqlConfig/sqlConfigGrid/initSqlInfo.action",b.sync=!1,b.load=a,$.maf.action.requestData(b)},getDbConfigSql:function(a,b){var c=new DataCenter;c.addParameter("dbConnectId",a);var d={};d.url=appPath+"/utf/testcase/sqlConfig/sqlConfigGrid/getSqlInfo.action",d.sync=!1,d.load=b,$.maf.action.requestData(d,c)},testConnectDB:function(a,b){var c={};c.url=appPath+"/utf/testcase/sqlConfig/sqlConfigGrid/testConnectDB.action",c.sync=!1,c.load=b,$.maf.action.requestData(c,a)},addDB:function(a,b){var c={};c.url=appPath+"/utf/testcase/sqlConfig/sqlConfigGrid/addDB.action",c.sync=!1,c.load=b,$.maf.action.requestData(c,a)},editDB:function(a,b){var c={};c.url=appPath+"/utf/testcase/sqlConfig/sqlConfigGrid/editDB.action",c.sync=!1,c.load=b,$.maf.action.requestData(c,a)},deleteDB:function(a,b){var c=new DataCenter;c.addParameter("dbConnectId",a);var d={};d.url=appPath+"/utf/testcase/sqlConfig/sqlConfigGrid/deleteDB.action",d.sync=!1,d.load=b,$.maf.action.requestData(d,c)},addSql:function(a,b){var c={};c.url=appPath+"/utf/testcase/sqlConfig/sqlConfigGrid/addSql.action",c.sync=!1,c.load=b,$.maf.action.requestData(c,a)},editSql:function(a,b){var c={};c.url=appPath+"/utf/testcase/sqlConfig/sqlConfigGrid/editSql.action",c.sync=!1,c.load=b,$.maf.action.requestData(c,a)},deleteSql:function(a,b){var c=new DataCenter;c.addParameter("varId",a);var d={};d.url=appPath+"/utf/testcase/sqlConfig/sqlConfigGrid/deleteSql.action",d.sync=!1,d.load=b,$.maf.action.requestData(d,c)},saveResourceAuthorities:function(a,b){var c={};c.url=appPath+"/utf/system/user/saveResourceAuthorities.action",c.sync=!1,c.load=b,$.maf.action.requestData(c,a)},initCaseIdList:function(a){var b={};b.url=appPath+"/utf/testcase/sqlConfig/sqlConfigGrid/getCaseInfoList.action",b.sync=!1,b.load=a,$.maf.action.requestData(b)},getParameterByCaseId:function(a,b,c){var d=new DataCenter;d.addParameter("caseId",a),d.addParameter("varName",b);var e={};e.url=appPath+"/utf/testcase/sqlConfig/sqlConfigGrid/getParemeterInfoList.action",e.sync=!1,e.load=c,$.maf.action.requestData(e,d)},getSqlParameterInfoByVarId:function(a,b){var c=new DataCenter;c.addParameter("varId",a);var d={};d.url=appPath+"/utf/testcase/sqlConfig/sqlConfigGrid/getSqlParameterInfoByVarId.action",d.sync=!1,d.load=b,$.maf.action.requestData(d,c)},getSqlParameterInfoByVarIdStr:function(a,b){var c=new DataCenter;c.addParameter("dbValue",a);var d={};d.url=appPath+"/utf/testcase/sqlConfig/sqlConfigGrid/getSqlParameterInfoByVarIdStr.action",d.sync=!1,d.load=b,$.maf.action.requestData(d,c)},checkDbNameVailability:function(a,b){var c=new DataCenter;c.addParameter("dbName",a);var d={};d.url=appPath+"/utf/testcase/sqlConfig/sqlConfigGrid/checkDbNameVailability.action",d.sync=!1,d.load=b,$.maf.action.requestData(d,c)},checkSqlNameVailability:function(a,b){var c=new DataCenter;c.addParameter("sqlName",a);var d={};d.url=appPath+"/utf/testcase/sqlConfig/sqlConfigGrid/checkSqlNameVailability.action",d.sync=!1,d.load=b,$.maf.action.requestData(d,c)}}}($.ude.rpc),function(a){a.ude.page.testcase.sqlConfig.parameter={}}(jQuery),function(a){function b(){a("#sqlTable").udeTable({data:null,columns:[{sTitle:"SQL\u540d\u79f0",mData:"varName",sWidth:"30%"},{sTitle:"SQL\u8bed\u53e5",mData:"dbValue",sWidth:"30%"},{sTitle:"\u53c2\u6570",mData:"projId",sWidth:"40%"}]})}function c(){var b=a("#dbTable").udeTable().fnGetSelectedRowData();f=b.dbConnectId,a.ude.rpc.testcase.getDbConfigSql(d,f)}function d(a){if(!a)return void showMessage("\u521d\u59cb\u5316\u5931\u8d25\u3002",null,"error");if(1===a.getCode())return void showMessage(a.getDetail(),null,"error");var b=a.getDataStore("sqlStore");e(b.getRowSet().getData())}function e(b){a("#sqlTable").udeTable().dataTable().fnClearTable();for(var c=0;c<b.length;c++)a("#sqlTable").udeTable().fnAddRow(b[c])}a.ude.page.testcase.sqlConfig.detail={initDBSqlDetail:b,getSqlDetailById:c};var f=null}(jQuery),function(a){function b(){la(),a(".common-content-down").css("height",.5*a(".common-content").height()-a(".common-content-top").outerHeight()),a.ude.rpc.testcase.initDBResources(d),k()}function c(){la(),i([]),a.ude.rpc.testcase.initSqlResources(e),m()}function d(b){if(!b)return void showMessage(a.i18n.prop("ude.page.testcase.sqlConfig.initMessage")+"\uff01",null,"error");if(1==b.getCode())return void showMessage(b.getDetail(),null,"error");var c=b.getDataStore("dbStore");f(c)}function e(b){if(!b)return void showMessage(a.i18n.prop("ude.page.testcase.sqlConfig.initMessage")+"\uff01",null,"error");if(1==b.getCode())return void showMessage(b.getDetail(),null,"error");var c=b.getDataStore("sqlStore");g(c)}function f(b){a("#testConnectBtn").bind("click",function(){A()}),a("#addDBBtn").bind("click",function(){B()}),a("#editDBBtn").bind("click",function(a){D()}),a("#deleteDBBtn").bind("click",function(){L()}),h(b.getRowSet().getData())}function g(b){a("#sqlTable").udeTable().fnRedraw(b.getRowSet().getData())}function h(b){a("#dbTable").udeTable({data:b,columns:[{sTitle:a.i18n.prop("ude.page.testcase.sqlConfig.Name"),mData:"dbConnectName",sWidth:"13%"},{sTitle:a.i18n.prop("ude.page.testcase.sqlConfig.Type"),mData:"dbConnectType",sWidth:"13%"},{sTitle:a.i18n.prop("ude.page.testcase.sqlConfig.Driver"),mData:"dbDriver",sWidth:"22%"},{sTitle:"URL",mData:"dbUrl",sWidth:"13%"},{sTitle:a.i18n.prop("ude.page.testcase.sqlConfig.dbUsername"),mData:"dbUsername",sWidth:"13%"},{sTitle:a.i18n.prop("ude.page.testcase.sqlConfig.dbPwd"),mData:"dbPwd",sWidth:"13%",mRender:ha}],dblClick:function(a){D()}})}function i(b){a("#sqlTable").udeTable({data:b,columns:[{sTitle:"SQL"+a.i18n.prop("ude.page.testcase.sqlConfig.varName"),mData:"varName",sWidth:"20%"},{sTitle:a.i18n.prop("ude.page.testcase.sqlConfig.dbConnectId"),mData:"dbConnectId",sWidth:"30%"},{sTitle:"SQL"+a.i18n.prop("ude.page.testcase.sqlConfig.varValue"),mData:"varValue",sWidth:"30%"},{sTitle:a.i18n.prop("ude.page.testcase.sqlConfig.dbValue"),mData:"dbValue",sWidth:"20%"}],dblClick:function(a){E()},onClick:function(a){j()}})}function j(){var b=a("#sqlTable").udeTable().fnGetSelectedRowData().varName,c=a("#sqlTable").udeTable().fnGetSelectedRowData().varId;a.ude.page.testcase.caseDesign.eventjs.setOperActionIdForSql(c,b)}function k(){a("#dbConnectName").prop("maxlength",40),a("#dbIp").prop("maxlength",40),a("#dbPort").prop("maxlength",20),a("#dbInstanceName").prop("maxlength",20),a("#dbUsername").prop("maxlength",20),a("#dbPwd").prop("maxlength",40),a("#dbConnectType").change(ia),a("#dbSaveId").click(l)}function l(){a.ude.rpc.testcase.checkDbNameVailability(a.trim(a("#dbConnectName").val()),U)}function m(){n(),p(),t(),w()}function n(){a.ude.rpc.testcase.initDBResources(q)}function o(){a.ude.rpc.testcase.initDBResources(r)}function p(){a.ude.rpc.testcase.initCaseIdList(s)}function q(b){ua=a("#sqlConfigDataSourceSelect").udeSelect({});var c=b.getDataStore("dbStore");if(c.getRowSet().getRowCount()>0){for(var d=c.getRowSet().getData(),e=0;e<d.length;e++)d[e].name=d[e].dbConnectName,d[e].id=d[e].dbConnectId;ua.setData(d)}else ua.setData()}function r(b){ua=a("#sqlConfigDataSourceSelect").udeSelect({});var c=b.getDataStore("dbStore");if(c.getRowSet().getRowCount()>0){for(var d=c.getRowSet().getData(),e=0;e<d.length;e++)d[e].name=d[e].dbConnectName,d[e].id=d[e].dbConnectId;ua.setData(d)}else ua.setData();a.ude.rpc.testcase.getSqlParameterInfoByVarId(oa,F)}function s(b){var c=b.getDataStore("caseInfoStore");if(va=a("#caseIdSelect").udeSelect({}),c.getRowSet().getRowCount()>0){for(var d=c.getRowSet().getData(),e=0;e<d.length;e++)d[e].name=d[e].caseName,d[e].id=d[e].caseId;va.setData(d)}}function t(){u(),v()}function u(){a("#leftParaTable").udeTable({data:null,columns:[{sTitle:a.i18n.prop("ude.page.testcase.sqlConfig.paraName"),mData:"varName",sWidth:"33%"},{sTitle:a.i18n.prop("ude.page.testcase.sqlConfig.paraValue"),mData:"varValue",sWidth:"33%"},{sTitle:a.i18n.prop("ude.page.testcase.sqlConfig.caseId"),mData:"caseId",sWidth:"33%"}],selectable:"ctrl",dblClick:function(){Z()}})}function v(){a("#rightParaTable").udeTable({data:null,columns:[{sTitle:a.i18n.prop("ude.page.testcase.sqlConfig.paraName"),mData:"varName",sWidth:"100%",mRender:ga}],selectable:"ctrl",dblClick:function(){$()}})}function w(){a("#updateSqlConfig").bind("click",E),a("#deleteSqlConfig").bind("click",N),a("#addSqlConfig").bind("click",C),a("#sqlConfigSaveBtn").bind("click",x),a("#searchParameter").bind("click",Y),a("#sqlMoveRight").bind("click",Z),a("#sqlMoveLeft").bind("click",$),a("#sqlMoveUp").bind("click",ba),a("#sqlMoveDown").bind("click",ca)}function x(){a.ude.rpc.testcase.checkSqlNameVailability(a.trim(a("#sqlConfigNameInput").val()),W)}function y(){var b=pa;b.dbConnectName=a.trim(a("#dbConnectName").val()),b.dbConnectType=a.trim(a("#dbConnectType").val()),b.dbDriver=a.trim(a("#dbDriver").val()),b.dbUrl=a.trim(a("#dbUrl").val()),b.dbUsername=a.trim(a("#dbUsername").val()),b.dbPwd=a.trim(a("#dbPwd").val());var c=new DataCenter,d=new DataStore(ma);d.setRowSetName(ma),d.getRowSet().addRow(b),c.addDataStore(d),a("#dbDialog").prop("add")?H(c):(b.dbConnectId=oa,J(c))}function z(){qa.dbValue="",qa.varName="",qa.dbConnectId="",qa.varValue="";var b=a("#rightParaTable").udeTable().fnGetData(),c=qa;c.varName=a.trim(a("#sqlConfigNameInput").val()),c.dbConnectId=a.trim(a("#sqlConfigDataSourceSelect").val()),c.varValue=a.trim(a("#varValue").val());for(var d=null,e=0;e<b.length;e++)d=d?d+","+b[e].varName:b[e].varName;c.dbValue=d;var f=new DataCenter,g=new DataStore(na);g.setRowSetName(na),g.getRowSet().addRow(c),f.addDataStore(g),a("#sqlDialog").prop("add")?I(f):(c.varId=oa,K(f))}function A(){var b=a("#dbTable").udeTable().fnGetSelectedRowData(),c=new DataCenter,d=new DataStore(ma);d.setRowSetName(ma),d.getRowSet().addRow(b),c.addDataStore(d),b?a.ude.rpc.testcase.testConnectDB(c,Q):showMessage(a.i18n.prop("ude.page.testcase.sqlConfig.connectMessage")+"\uff01",null,"error")}function B(){X(),a("#dbDriver").val("oracle.jdbc.driver.OracleDriver"),a("#dbUrl").val("jdbc:oracle:thin:@127.0.0.1:1521:SID"),a("#dbDialog").prop("add",!0),a.ude.dialog.open("dbDialog",{title:a.i18n.prop("ude.page.testcase.sqlConfig.dbBuild"),width:"500px"})}function C(){va.setValue(""),fa(),n(),a("#sqlDialog").prop("add",!0),a.ude.dialog.open("sqlDialog",{title:ta,width:"850px"}),a("#sqlConfigNameInput").attr("readonly",!1),a("#sqlConfigIdInput").val(a.ude.util.generateUUID()),a("#sqlConfigNameInput").val(""),a("#sqlConfigDataSourceSelect").val(""),a("#sqlConfigDescInput").val(""),ta="SQL"+a.i18n.prop("ude.page.testcase.sqlConfig.build")}function D(){var b=a("#dbTable").udeTable().fnGetSelectedRowData();return null==b?void showMessage(a.i18n.prop("ude.page.testcase.sqlConfig.chooseMessage")+"\u3002",null,"error"):(pa=b,oa=b.dbConnectId,editDbName=b.dbConnectName,a("#dbConnectName").val(b.dbConnectName),a("#dbConnectType").val(b.dbConnectType),a("#dbDriver").val(b.dbDriver),a("#dbUrl").val(b.dbUrl),a("#dbUsername").val(b.dbUsername),a("#dbPwd").val(b.dbPwd),a("#dbDialog").prop("add",!1),void a.ude.dialog.open("dbDialog",{title:a.i18n.prop("ude.page.testcase.sqlConfig.dbModify"),width:"500px"}))}function E(){var b=a("#sqlTable").udeTable().fnGetSelectedRowData();null==b?showMessage(a.i18n.prop("ude.page.testcase.sqlConfig.chooseMessage")+"\uff01",null,"error"):(va.setValue(""),fa(),o(),a("#sqlDialog").prop("add",!1),a.ude.dialog.open("sqlDialog",{title:"SQL"+a.i18n.prop("ude.page.testcase.sqlConfig.modify"),width:"850px"}),qa=b,oa=b.varId,Aa=b.varName,a("#sqlConfigNameInput").val(b.varName),a("#varValue").val(b.varValue),a("#sqlConfigNameInput").attr("readonly",!0))}function F(b){if(!b)return void showMessage(a.i18n.prop("ude.page.testcase.sqlConfig.initMessage")+"\uff01",null,"error");if(1==b.getCode())return void showMessage(b.getDetail(),null,"error");var c=b.getDataStore("sqlParStore"),d=c.getRowSet().getData();wa=d[0].dbConnectId,ua.setValue(wa);var e=d[0].dbValue;e&&a.ude.rpc.testcase.getSqlParameterInfoByVarIdStr(e,G)}function G(b){if(a.ude.dialog.open("sqlDialog",{title:"SQL"+a.i18n.prop("ude.page.testcase.sqlConfig.modify"),width:"850px"}),!b)return void showMessage(a.i18n.prop("ude.page.testcase.sqlConfig.initMessage")+"\uff01",null,"error");if(1==b.getCode())return void showMessage(b.getDetail(),null,"error");var c=b.getDataStore("sqlStrParStore"),d=c.getRowSet().getData();a("#rightParaTable").udeTable().dataTable().fnClearTable();for(var e=0;e<d.length;e++)a("#rightParaTable").udeTable().fnAddRow(d[e])}function H(b){var c=b.getSingleDataStore(),d=c.getRowSet().getRow(0).data,e=function(b){if(b&&"0"==b.getCode()){var c=b.getSingleDataStore();d=c.getRowSet().getRow(0).data,a("#dbTable").udeTable().fnAddRow(d),editDbName="",a.ude.dialog.close()}else{var e=b.getDetail();showMessage(e,a("#dbDialog"),"error")}};a.ude.rpc.testcase.addDB(b,e)}function I(b){var c=b.getSingleDataStore(),d=c.getRowSet().getRow(0).data,f=function(b){if(b&&"0"==b.getCode()){var c=b.getSingleDataStore();d=c.getRowSet().getRow(0).data,a("#sqlTable").udeTable().fnAddRow(d),a("#sqlTable").udeTable().dataTable().fnClearTable(),a.ude.rpc.testcase.initSqlResources(e),Aa="",a.ude.dialog.close()}else{var f=b.getDetail();showMessage(f,a("#sqlDialog"),"error")}};a.ude.rpc.testcase.addSql(b,f)}function J(b){var c=b.getSingleDataStore(),d=c.getRowSet().getRow(0).data,e=function(b){if(b&&"0"==b.getCode())a("#dbTable").udeTable().fnUpdateRow(d),editDbName="",a.ude.dialog.close();else{var c=b.getDetail();showMessage(c,a("#dbDialog"),"error")}};d.dbPwd==sa&&(d.dbPwd=""),a.ude.rpc.testcase.editDB(b,e)}function K(b){var c=b.getSingleDataStore(),d=c.getRowSet().getRow(0).data,f=function(b){if(b&&"0"==b.getCode())a("#sqlTable").udeTable().fnUpdateRow(d),a("#sqlTable").udeTable().dataTable().fnClearTable(),a.ude.rpc.testcase.initSqlResources(e),Aa="",a.ude.dialog.close();else{var c=b.getDetail();showMessage(c,a("#sqlDialog"),"error")}};a.ude.rpc.testcase.editSql(b,f)}function L(){var b=a("#dbTable").udeTable().fnGetSelectedRowData();return b?void a.ude.rpc.testcase.getDbConfigSql(b.dbConnectId,M):void showMessage(a.i18n.prop("ude.page.testcase.sqlConfig.deleteDb")+"\uff01",null,"error")}function M(b){return b.getDataStore("sqlStore").getRowSet().getData().length>0?void showMessage(a.i18n.prop("ude.page.testcase.sqlConfig.deleteMessage")+"\uff01",null,"error"):void a.ude.util.confirm(a.i18n.prop("ude.page.testcase.sqlConfig.deleteDBConfirm"),O)}function N(){var b=a("#sqlTable").udeTable().fnGetSelectedRowData();return b?void a.ude.util.confirm(a.i18n.prop("ude.page.testcase.sqlConfig.deleteDBConfirm"),P):void showMessage(a.i18n.prop("ude.page.testcase.sqlConfig.deleteSql")+"SQL"+a.i18n.prop("ude.page.testcase.sqlConfig.config"),null,"error")}function O(){var b=a("#dbTable").udeTable().fnGetSelectedRowData();a.ude.rpc.testcase.deleteDB(b.dbConnectId,R)}function P(){var b=a("#sqlTable").udeTable().fnGetSelectedRowData();a.ude.rpc.testcase.deleteSql(b.varId,S)}function Q(b){var c=b.getParameter("testResult");"true"===c?showMessage(a.i18n.prop("ude.page.testcase.sqlConfig.connSuccess")+"!",null,""):showMessage(a.i18n.prop("ude.page.testcase.sqlConfig.connFail")+"!",null,"error")}function R(b){if(b&&"0"==b.getCode()){a("#dbTable").udeTable().fnDeleteRow();var c=a("#dbTable").udeTable().fnGetSelectedRowData(),d=ra.getDBStore();d.deleteRowData(c)}else{var e=b.getDetail();showMessage(e,null,"error")}}function S(b){if(b&&"0"==b.getCode()){a("#sqlTable").udeTable().fnDeleteRow();var c=a("#sqlTable").udeTable().fnGetSelectedRowData(),d=ra.getSqlStore();d.deleteRowData(c)}else{var e=b.getDetail();showMessage(e,null,"error")}}function T(){var b=a.trim(a("#dbConnectName").val()),c=a.trim(a("#dbConnectType").val()),d=a.trim(a("#dbDriver").val()),e=a.trim(a("#dbUrl").val()),f=a.trim(a("#dbUsername").val());return b&&""!=b?c&&""!=c?d&&""!=d?e&&""!=e?!(!f||""==f)||(showMessage(a.i18n.prop("ude.page.testcase.sqlConfig.dbUsernameWarn")+"\u3002",a("#dbDialog"),"error"),a("#dbUsername").focus(),!1):(showMessage("URL"+a.i18n.prop("ude.page.testcase.sqlConfig.dbUrl")+"!",a("#dbDialog"),"error"),a("#dbUrl").focus(),!1):(showMessage(a.i18n.prop("ude.page.testcase.sqlConfig.dbDriver")+"!",a("#dbDialog"),"error"),a("#dbDriver").focus(),!1):(showMessage(a.i18n.prop("ude.page.testcase.sqlConfig.dbConnectType")+"!",a("#dbDialog"),"error"),a("#dbConnectType").focus(),!1):(showMessage(a.i18n.prop("ude.page.testcase.sqlConfig.dbConnectName")+"!",a("#dbDialog"),"error"),a("#dbConnectName").focus(),!1)}function U(b){return xa=b.getParameter("dbCheckResult"),"0"!=xa&&editDbName!=a("#dbConnectName").val()?(showMessage(a.i18n.prop("ude.page.testcase.sqlConfig.dbNameCheckResult")+"\u3002",a("#dbDialog"),"error"),void a("#dbConnectName").focus()):void(T()&&y())}function V(){var b=a.trim(a("#sqlConfigNameInput").val()),c=a.trim(a("#varValue").val()),d=a.trim(a("#sqlConfigDataSourceSelect").val());ka(c);var e=a("#rightParaTable").udeTable().fnGetData().length;return b&&""!=b?d?c&&""!=c?za==e||(showMessage("Sql"+a.i18n.prop("ude.page.testcase.sqlConfig.markCount"),a("#sqlDialog"),"error"),a("#varValue").focus(),!1):(showMessage(a.i18n.prop("ude.page.testcase.sqlConfig.dbInput")+"SQL"+a.i18n.prop("ude.page.testcase.sqlConfig.varValue")+"\u3002",a("#sqlDialog"),"error"),a("#varValue").focus(),!1):(showMessage(a.i18n.prop("ude.page.testcase.sqlConfig.DataSourceSelect"),a("#sqlDialog"),"error"),"#sqlConfigDataSourceSelect".focus(),!1):(showMessage(a.i18n.prop("ude.page.testcase.sqlConfig.dbInput")+"SQL"+a.i18n.prop("ude.page.testcase.sqlConfig.dbConnectName")+"\u3002",a("#sqlDialog"),"error"),a("#varName").focus(),!1)}function W(b){return ya=b.getParameter("sqlCheckResult"),"0"!=ya&&a("#sqlConfigNameInput").val()!=Aa?(showMessage(a.i18n.prop("ude.page.testcase.sqlConfig.sqlName")+"Sql"+a.i18n.prop("ude.page.testcase.sqlConfig.sqlNameCheckResult"),a("#sqlDialog"),"error"),void a("#sqlConfigNameInput").focus()):void(V()&&z())}function X(){pa={},a("#dbConnectName").val(""),a("#dbConnectType").val(""),a("#dbDriver").val(""),a("#dbUrl").val(""),a("#dbUsername").val(""),a("#dbPwd").val("")}function Y(){var b=a.trim(a("#caseIdSelect").val()),c=a.trim(a("#parName").val());a.ude.rpc.testcase.getParameterByCaseId(b,c,da)}function Z(){var b=a("#leftParaTable").udeTable().fnGetSelectedRowDatas();a("#leftParaTable").udeTable().fnDeleteRow(),_(b)}function $(){var b=a("#rightParaTable").udeTable().fnGetSelectedRowDatas();a("#rightParaTable").udeTable().fnDeleteRow(),aa(b)}function _(b){if(!(b.length>0))return void showMessage(a.i18n.prop("ude.page.testcase.sqlConfig.rightPara"),null,"error");for(var c=0;c<b.length;c++)a("#rightParaTable").udeTable().fnAddRow(b[c])}function aa(b){if(!(b.length>0))return void showMessage(a.i18n.prop("ude.page.testcase.sqlConfig.rightPara"),null,"error");for(var c=0;c<b.length;c++)a("#leftParaTable").udeTable().fnAddRow(b[c])}function ba(){var b=a("#rightParaTable").udeTable().fnGetSelectedRowData();return b?void a("#rightParaTable").udeTable().fnMoveRow(b,"up"):void showMessage(a.i18n.prop("ude.page.testcase.sqlConfig.upContent"),null,"error")}function ca(){var b=a("#rightParaTable").udeTable().fnGetSelectedRowData();return b?void a("#rightParaTable").udeTable().fnMoveRow(b,"down"):void showMessage(a.i18n.prop("ude.page.testcase.sqlConfig.downContent"),null,"error")}function da(b){if(!b)return void showMessage(a.i18n.prop("ude.page.testcase.sqlConfig.initMessage")+"\uff01",null,"error");if(1==b.getCode())return void showMessage(b.getDetail(),null,"error");var c=b.getDataStore("parStore");ea(c.getRowSet().getData())}function ea(b){a("#leftParaTable").udeTable().dataTable().fnClearTable();for(var c=0;c<b.length;c++)a("#leftParaTable").udeTable().fnAddRow(b[c])}function fa(){qa={},ua.setValue(""),a("#sqlConfigNameInput").val(""),a("#varValue").val(""),a("#rightParaTable").udeTable().dataTable().fnClearTable(),a("#leftParaTable").udeTable().dataTable().fnClearTable(),a("#s2id_caseIdSelect").find(".select2-search-choice-close").show()}function ga(a){return"<div class='cell' style='text-align:center'>"+a+"</div>"}function ha(a){return"<div class='cell' >********</div>"}function ia(){ja(),"Oracle"===a("#dbConnectType").val()&&(a("#dbDriver").val("oracle.jdbc.driver.OracleDriver"),a("#dbUrl").val("jdbc:oracle:thin:@127.0.0.1:1521:SID")),"MySQL"===a("#dbConnectType").val()&&(a("#dbDriver").val("com.mysql.jdbc.Driver"),a("#dbUrl").val("jdbc:mysql://127.0.0.1:3306/SID")),"MSSQLServer"===a("#dbConnectType").val()&&(a("#dbDriver").val("net.sourceforge.jtds.jdbc.Driver"),a("#dbUrl").val("jdbc:jtds:sqlserver://127.0.0.1:1433/SID")),"IBMDB2"===a("#dbConnectType").val()&&(a("#dbDriver").val("com.ibm.db2.jcc.DB2Driver"),a("#dbUrl").val("jdbc:db2://127.0.0.1:50000/SID")),"Sybase"===a("#dbConnectType").val()&&(a("#dbDriver").val("com.sybase.jdbc3.jdbc.SybDriver"),a("#dbUrl").val("jdbc:sybase:Tds:127.0.0.1:5000/SID")),a("#dbConnectType").val()===a.i18n.prop("ude.page.testcase.sqlConfig.oscar")&&(a("#dbDriver").val("com.oscar.Driver"),a("#dbUrl").val("jdbc:oscar://127.0.0.1:2003/SID")),a("#dbConnectType").val()===a.i18n.prop("ude.page.testcase.sqlConfig.DmDriver")&&(a("#dbDriver").val("dm.jdbc.driver.DmDriver"),a("#dbUrl").val("jdbc:dm://127.0.0.1:5236/DMSERVER")),a("#dbConnectType").val()===a.i18n.prop("ude.page.testcase.sqlConfig.kingbase")&&(a("#dbDriver").val("com.kingbase.Driver"),a("#dbUrl").val("jdbc:kingbase://127.0.0.1:54321/SID")),"jdbc"===a("#dbConnectType").val()&&(a("#dbDriver").val("jdbc driver"),a("#dbUrl").val("jdbc url"))}function ja(){a("#dbDriver").val(""),a("#dbUrl").val("")}function ka(a){var b=a.match(/\?/g);za=b?b.length:0}function la(){a.ude.pageResizeHandler=function(){a(".common-content-down").css("height",.5*a(".common-content").height()-a(".common-content-top").outerHeight())}}a.ude.page.testcase.sqlConfig.main={initDB:b,initSql:c};var ma="com.neusoft.utf.portal.common.entity.DataDbConfig",na="com.neusoft.utf.portal.common.entity.TestcaseArgDefine",oa=null,pa={},qa={},ra=a.ude.page.testcase.sqlConfig.parameter,sa="******",ta=null,ua=null,va=null,wa="",xa="0",ya="0",za=0,Aa=null}(jQuery);